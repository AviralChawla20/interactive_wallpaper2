{"ast":null,"code":"let webGLAvailable, webGL2Available;\nfunction isWebGLAvailable() {\n  var _a;\n  if (webGLAvailable !== void 0) return webGLAvailable;\n  try {\n    let gl;\n    const canvas = document.createElement(\"canvas\");\n    webGLAvailable = !!(window.WebGLRenderingContext && (gl = canvas.getContext(\"webgl\")));\n    if (gl) (_a = gl.getExtension(\"WEBGL_lose_context\")) == null ? void 0 : _a.loseContext();\n    return webGLAvailable;\n  } catch (e) {\n    return webGLAvailable = false;\n  }\n}\nfunction isWebGL2Available() {\n  var _a;\n  if (webGL2Available !== void 0) return webGL2Available;\n  try {\n    let gl;\n    const canvas = document.createElement(\"canvas\");\n    webGL2Available = !!(window.WebGL2RenderingContext && (gl = canvas.getContext(\"webgl2\")));\n    if (gl) (_a = gl.getExtension(\"WEBGL_lose_context\")) == null ? void 0 : _a.loseContext();\n    return webGL2Available;\n  } catch (e) {\n    return webGL2Available = false;\n  }\n}\nfunction getWebGLErrorMessage() {\n  return getErrorMessage(1);\n}\nfunction getWebGL2ErrorMessage() {\n  return getErrorMessage(2);\n}\nfunction getErrorMessage(version) {\n  const names = {\n    1: \"WebGL\",\n    2: \"WebGL 2\"\n  };\n  const contexts = {\n    1: window.WebGLRenderingContext,\n    2: window.WebGL2RenderingContext\n  };\n  const element = document.createElement(\"div\");\n  element.id = \"webglmessage\";\n  element.style.fontFamily = \"monospace\";\n  element.style.fontSize = \"13px\";\n  element.style.fontWeight = \"normal\";\n  element.style.textAlign = \"center\";\n  element.style.background = \"#fff\";\n  element.style.color = \"#000\";\n  element.style.padding = \"1.5em\";\n  element.style.width = \"400px\";\n  element.style.margin = \"5em auto 0\";\n  let message = 'Your $0 does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">$1</a>';\n  if (contexts[version]) {\n    message = message.replace(\"$0\", \"graphics card\");\n  } else {\n    message = message.replace(\"$0\", \"browser\");\n  }\n  message = message.replace(\"$1\", names[version]);\n  element.innerHTML = message;\n  return element;\n}\nexport { getErrorMessage, getWebGL2ErrorMessage, getWebGLErrorMessage, isWebGL2Available, isWebGLAvailable };","map":{"version":3,"sources":["../../src/misc/WebGL.ts"],"names":[],"mappings":"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","sourcesContent":["let webGLAvailable: boolean, webGL2Available: boolean\n\nexport function isWebGLAvailable(): boolean {\n  if (webGLAvailable !== undefined) return webGLAvailable\n  try {\n    let gl\n    const canvas = document.createElement('canvas')\n    webGLAvailable = !!(window.WebGLRenderingContext && (gl = canvas.getContext('webgl')))\n    if (gl) gl.getExtension('WEBGL_lose_context')?.loseContext()\n    return webGLAvailable\n  } catch (e) {\n    return (webGLAvailable = false)\n  }\n}\n\nexport function isWebGL2Available(): boolean {\n  if (webGL2Available !== undefined) return webGL2Available\n  try {\n    let gl\n    const canvas = document.createElement('canvas')\n    webGL2Available = !!(window.WebGL2RenderingContext && (gl = canvas.getContext('webgl2')))\n    if (gl) gl.getExtension('WEBGL_lose_context')?.loseContext()\n    return webGL2Available\n  } catch (e) {\n    return (webGL2Available = false)\n  }\n}\n\nexport function getWebGLErrorMessage(): HTMLDivElement {\n  return getErrorMessage(1)\n}\n\nexport function getWebGL2ErrorMessage(): HTMLDivElement {\n  return getErrorMessage(2)\n}\n\nexport function getErrorMessage(version: 1 | 2): HTMLDivElement {\n  const names = {\n    1: 'WebGL',\n    2: 'WebGL 2',\n  }\n\n  const contexts = {\n    1: window.WebGLRenderingContext,\n    2: window.WebGL2RenderingContext,\n  }\n\n  const element = document.createElement('div')\n  element.id = 'webglmessage'\n  element.style.fontFamily = 'monospace'\n  element.style.fontSize = '13px'\n  element.style.fontWeight = 'normal'\n  element.style.textAlign = 'center'\n  element.style.background = '#fff'\n  element.style.color = '#000'\n  element.style.padding = '1.5em'\n  element.style.width = '400px'\n  element.style.margin = '5em auto 0'\n\n  let message =\n    'Your $0 does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">$1</a>'\n\n  if (contexts[version]) {\n    message = message.replace('$0', 'graphics card')\n  } else {\n    message = message.replace('$0', 'browser')\n  }\n\n  message = message.replace('$1', names[version])\n  element.innerHTML = message\n  return element\n}\n"]},"metadata":{},"sourceType":"module"}