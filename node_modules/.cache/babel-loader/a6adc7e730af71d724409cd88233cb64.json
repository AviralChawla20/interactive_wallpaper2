{"ast":null,"code":"import { Vector2 } from \"three\";\nclass SelectionHelper {\n  constructor(selectionBox, renderer, cssClassName) {\n    this.element = document.createElement(\"div\");\n    this.element.classList.add(cssClassName);\n    this.element.style.pointerEvents = \"none\";\n    this.renderer = renderer;\n    this.startPoint = new Vector2();\n    this.pointTopLeft = new Vector2();\n    this.pointBottomRight = new Vector2();\n    this.isDown = false;\n    this.renderer.domElement.addEventListener(\"pointerdown\", event => {\n      this.isDown = true;\n      this.onSelectStart(event);\n    });\n    this.renderer.domElement.addEventListener(\"pointermove\", event => {\n      if (this.isDown) {\n        this.onSelectMove(event);\n      }\n    });\n    this.renderer.domElement.addEventListener(\"pointerup\", event => {\n      this.isDown = false;\n      this.onSelectOver(event);\n    });\n  }\n  onSelectStart(event) {\n    this.renderer.domElement.parentElement.appendChild(this.element);\n    this.element.style.left = `${event.clientX}px`;\n    this.element.style.top = `${event.clientY}px`;\n    this.element.style.width = \"0px\";\n    this.element.style.height = \"0px\";\n    this.startPoint.x = event.clientX;\n    this.startPoint.y = event.clientY;\n  }\n  onSelectMove(event) {\n    this.pointBottomRight.x = Math.max(this.startPoint.x, event.clientX);\n    this.pointBottomRight.y = Math.max(this.startPoint.y, event.clientY);\n    this.pointTopLeft.x = Math.min(this.startPoint.x, event.clientX);\n    this.pointTopLeft.y = Math.min(this.startPoint.y, event.clientY);\n    this.element.style.left = `${this.pointTopLeft.x}px`;\n    this.element.style.top = `${this.pointTopLeft.y}px`;\n    this.element.style.width = `${this.pointBottomRight.x - this.pointTopLeft.x}px`;\n    this.element.style.height = `${this.pointBottomRight.y - this.pointTopLeft.y}px`;\n  }\n  onSelectOver() {\n    this.element.parentElement.removeChild(this.element);\n  }\n}\nexport { SelectionHelper };","map":{"version":3,"sources":["../../src/interactive/SelectionHelper.js"],"names":[],"mappings":"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","sourcesContent":["import { Vector2 } from 'three'\n\nclass SelectionHelper {\n  constructor(selectionBox, renderer, cssClassName) {\n    this.element = document.createElement('div')\n    this.element.classList.add(cssClassName)\n    this.element.style.pointerEvents = 'none'\n\n    this.renderer = renderer\n\n    this.startPoint = new Vector2()\n    this.pointTopLeft = new Vector2()\n    this.pointBottomRight = new Vector2()\n\n    this.isDown = false\n\n    this.renderer.domElement.addEventListener('pointerdown', (event) => {\n      this.isDown = true\n      this.onSelectStart(event)\n    })\n\n    this.renderer.domElement.addEventListener('pointermove', (event) => {\n      if (this.isDown) {\n        this.onSelectMove(event)\n      }\n    })\n\n    this.renderer.domElement.addEventListener('pointerup', (event) => {\n      this.isDown = false\n      this.onSelectOver(event)\n    })\n  }\n\n  onSelectStart(event) {\n    this.renderer.domElement.parentElement.appendChild(this.element)\n\n    this.element.style.left = `${event.clientX}px`\n    this.element.style.top = `${event.clientY}px`\n    this.element.style.width = '0px'\n    this.element.style.height = '0px'\n\n    this.startPoint.x = event.clientX\n    this.startPoint.y = event.clientY\n  }\n\n  onSelectMove(event) {\n    this.pointBottomRight.x = Math.max(this.startPoint.x, event.clientX)\n    this.pointBottomRight.y = Math.max(this.startPoint.y, event.clientY)\n    this.pointTopLeft.x = Math.min(this.startPoint.x, event.clientX)\n    this.pointTopLeft.y = Math.min(this.startPoint.y, event.clientY)\n\n    this.element.style.left = `${this.pointTopLeft.x}px`\n    this.element.style.top = `${this.pointTopLeft.y}px`\n    this.element.style.width = `${this.pointBottomRight.x - this.pointTopLeft.x}px`\n    this.element.style.height = `${this.pointBottomRight.y - this.pointTopLeft.y}px`\n  }\n\n  onSelectOver() {\n    this.element.parentElement.removeChild(this.element)\n  }\n}\n\nexport { SelectionHelper }\n"]},"metadata":{},"sourceType":"module"}